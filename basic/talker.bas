1 REM talker.bas
2 REM sp0256A-AL2 speech synthesizer demo
3 REM www.smbaker.com

10 CLEAR 1000 : REM reserve 1K for string space
20 DIM SP(100) : REM max length of speech 100 phonemes
30 GOSUB 30000 : REM setup phoneme table

100 print "1 - 'Scott was here'"
110 print "2 - 'RC2014'"
200 print "selection ";
210 input A$
220 if A$="1" THEN GOSUB 1000
230 if A$="2" THEN GOSUB 2000 
300 GOTO 100

1000 REM "Scott Was Here"
1010 T$="SS KK2 AO PA3 TT1" : REM Scott
1030 T$=T$+" PA1 WW UH ZZ" : REM Was
1050 T$=T$+" PA1 HH1 YR" : REM Here
1060 GOSUB 31000
1070 GOSUB 32000 : REM speak
1080 return

2000 REM "RC2014"
2010 T$="AR PA3 SS SS IY" : REM RC
2030 T$=T$+" TT2 WH EH EH NN1 PA2 PA3 TT2 IY" : REM Twenty
2050 T$=T$+" FF OR PA2 PA3 TT2 IY NN1" : REM Fourteen
2060 GOSUB 31000
2070 GOSUB 32000
2080 RETURN

30000 DIM P$(65)
30001 P$(0)="PA1"
30002 P$(1)="PA2"
30003 P$(2)="PA3"
30004 P$(3)="PA4"
30005 P$(4)="PA5"
30006 P$(5)="OY"
30007 P$(6)="AY"
30008 P$(7)="EH"
30009 P$(8)="KK3"
30010 P$(9)="PP"
30011 P$(10)="JH"
30012 P$(11)="NN1"
30013 P$(12)="IH"
30014 P$(13)="TT2"
30015 P$(14)="RR1"
30016 P$(15)="AX"
30017 P$(16)="MM"
30018 P$(17)="TT1"
30019 P$(18)="DH1"
30020 P$(19)="IY"
30021 P$(20)="EY"
30022 P$(21)="DD1"
30023 P$(22)="UW1"
30024 P$(23)="AO"
30025 P$(24)="AA"
30026 P$(25)="YY2"
30027 P$(26)="AE"
30028 P$(27)="HH1"
30029 P$(28)="BB1"
30030 P$(29)="TH"
30031 P$(30)="UH"
30032 P$(31)="UW2"
30033 P$(32)="AW"
30034 P$(33)="DD2"
30035 P$(34)="GG3"
30036 P$(35)="VV"
30037 P$(36)="GG1"
30038 P$(37)="SH"
30039 P$(38)="ZH"
30040 P$(39)="RR2"
30041 P$(40)="FF"
30042 P$(41)="KK2"
30043 P$(42)="KK1"
30044 P$(43)="ZZ"
30045 P$(44)="NG"
30046 P$(45)="LL"
30047 P$(46)="WW"
30048 P$(47)="XR"
30049 P$(48)="WH"
30050 P$(49)="YY1"
30051 P$(50)="CH"
30052 P$(51)="ER1"
30053 P$(52)="ER2"
30054 P$(53)="OW"
30055 P$(54)="DH2"
30056 P$(55)="SS"
30057 P$(56)="NN2"
30058 P$(57)="HH2"
30059 P$(58)="OR"
30060 P$(59)="AR"
30061 P$(60)="YR"
30062 P$(61)="GG2"
30063 P$(62)="EL"
30064 P$(63)="BB2"
30065 P$(64)="#"
30066 RETURN

31000 TM$=T$+"#" : TX=1 : SC=0
31010 REM print TM$
31020 IF (MID$(TM$, TX, 1)<>" ") GOTO 31100 
31030 TX=TX+1
31040 GOTO 31010

31100 REM search the phoneme table
31110 FOR I=0 to 64
31130 PL=LEN(P$(I))
31150 IF (MID$(TM$, TX, PL) <> P$(I)) GOTO 31190
31155 IF (I=64) THEN RETURN
31160 SP(SC)=I
31165 SC=SC+1
31170 TX=TX+PL
31180 GOTO 31010
31190 NEXT I
31200 PRINT "UNKNOWN PHONEME", MID$(TM$, TX, 3)
31210 STOP

32000 FOR I=0 to SC-1
32010 IF (INP(&H20) AND 2)=2 GOTO 32010 
32020 OUT &H20, SP(I)
32030 NEXT I
32099 REM turn off speech
32100 IF (INP(&H20) AND 2)=2 GOTO 32100
32110 OUT &H20, 3
32120 RETURN
